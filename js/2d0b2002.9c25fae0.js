(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0b2002"],{"21f3":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{attrs:{padding:""}},["login"==this.$route.name?s("login"):e._e(),"register"==this.$route.name?s("register"):e._e()],1)},a=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex flex-center"},[s("q-card",{staticClass:"my-card",staticStyle:{width:"100%","max-width":"400px"},attrs:{square:""}},[s("q-card-section",{staticClass:"text-center"},[s("q-img",{staticStyle:{width:"200px"},attrs:{src:"statics/logo-black.png"}}),s("div",{staticClass:"text-h6 text-grey-7"},[e._v("Login")])],1),s("q-card-section",{staticClass:"q-gutter-xs"},[s("div",[Array.isArray(e.errors_list)?s("ul",e._l(e.errors_list,function(t){return s("li",{key:t.id,staticClass:"text-negative"},[e._v(e._s(t))])}),0):s("ul",[e.errors_list?s("li",{staticClass:"text-negative"},[e._v(e._s(e.errors_list))]):e._e()])]),s("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"full-width",attrs:{outlined:"",dense:"",label:"Email/Username/Phone",name:"login-id"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),s("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"full-width",attrs:{outlined:"",type:"password",name:"password",dense:"",label:"Password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),s("q-btn",{staticClass:"full-width",attrs:{color:"primary",icon:"vpn_key","no-caps":"",label:"Login",loading:e.loading},on:{click:e.login},scopedSlots:e._u([{key:"loading",fn:function(){return[s("q-spinner-facebook"),e._v(" Login in\n         ")]},proxy:!0}])})],1)],1)],1)},n=[],l=s("967e"),o=s.n(l),c=(s("96cf"),s("fa84")),u=s.n(c),d={data:function(){return{loading:!1,form:{email:"",password:""},errors_list:null}},methods:{login:function(){var e=u()(o.a.mark(function e(){var t,s;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.errors_list=null,e.next=3,this.$validator.validateAll();case 3:if(t=e.sent,t){e.next=7;break}return this.errors_list=this.errors.all(),e.abrupt("return");case 7:return this.loading=!0,e.prev=8,e.next=11,this.$axios.post("api/login",this.form);case 11:s=e.sent,this.$q.notify({message:"Login successful",color:"secondary"}),this.$q.localStorage.set("nwps-token",s.data.token_type+" "+s.data.access_token),this.$store.commit("auth/user",s.data.user),this.form.email="",this.form.password="",this.$router.push({name:"index"}),this.loading=!1,e.next=26;break;case 21:return e.prev=21,e.t0=e["catch"](8),this.errors_list="Error: Please check your login-id or password",this.loading=!1,e.abrupt("return");case 26:case"end":return e.stop()}},e,this,[[8,21]])}));function t(){return e.apply(this,arguments)}return t}()}},m=d,p=s("2877"),f=Object(p["a"])(m,i,n,!1,null,null,null),h=f.exports,v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex flex-center"},[s("q-card",{staticClass:"my-card",staticStyle:{width:"100%","max-width":"400px"}},[s("q-card-section",{staticClass:"text-center"},[s("q-img",{staticStyle:{width:"200px"},attrs:{src:"statics/logo-black.png"}}),s("div",{staticClass:"text-h6 text-grey-7"},[e._v("Register")])],1),s("q-card-section",{staticClass:"q-gutter-xs"},[s("div",[Array.isArray(e.errors_list)?s("ul",e._l(e.errors_list,function(t){return s("li",{key:t.id,staticClass:"text-negative"},[e._v(e._s(t))])}),0):s("ul",[e.errors_list?s("li",{staticClass:"text-negative"},[e._v(e._s(e.errors_list))]):e._e()])]),s("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"full-width",attrs:{outlined:"",name:"name",dense:"",label:"Full Name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),s("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"full-width",attrs:{outlined:"",name:"phone",dense:"",label:"Phone"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),s("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"full-width",attrs:{outlined:"",name:"username",dense:"",label:"Username"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),s("q-input",{staticClass:"full-width",attrs:{outlined:"",dense:"",name:"email",label:"Email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),s("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"full-width",attrs:{outlined:"",name:"password",type:"password",dense:"",label:"Password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),s("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"full-width",attrs:{outlined:"",name:"password_confirmation",type:"password",dense:"",label:"Confirm Password"},model:{value:e.form.confirm_password,callback:function(t){e.$set(e.form,"confirm_password",t)},expression:"form.confirm_password"}}),s("q-btn",{staticClass:"full-width",attrs:{color:"primary",icon:"how_to_reg","no-caps":"",label:"Register",loading:e.loading},on:{click:e.register},scopedSlots:e._u([{key:"loading",fn:function(){return[s("q-spinner-facebook"),e._v(" Registering\n        ")]},proxy:!0}])})],1)],1)],1)},w=[],g=(s("7f7f"),{data:function(){return{loading:!1,form:{name:"",phone:"",username:"",email:"",password:"",confirm_password:""},errors_list:null}},methods:{register:function(){var e=u()(o.a.mark(function e(){var t,s;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.errors_list=null,e.next=3,this.$validator.validateAll();case 3:if(t=e.sent,t){e.next=7;break}return this.errors_list=this.errors.all(),e.abrupt("return");case 7:return this.loading=!0,e.prev=8,e.next=11,this.$axios.post("api/signup",this.form);case 11:if(s=e.sent,"error"!=s.data.status){e.next=16;break}return this.errors_list=s.data.data,this.loading=!1,e.abrupt("return");case 16:this.$q.localStorage.set("nwps-token",s.data.token_type+" "+s.data.access_token),this.$q.notify({message:"Registration successful",color:"secondary"}),this.$store.commit("auth/user",s.data.user),this.clearForm(),this.$router.push({name:"index"}),this.loading=!1,e.next=28;break;case 24:e.prev=24,e.t0=e["catch"](8),this.errors_list="Something went wrong: Please try again",this.loading=!1;case 28:case"end":return e.stop()}},e,this,[[8,24]])}));function t(){return e.apply(this,arguments)}return t}(),clearForm:function(){this.form.name="",this.form.phone="",this.form.user_name="",this.form.email="",this.form.password="",this.form.confirm_password=""}}}),x=g,_=Object(p["a"])(x,v,w,!1,null,null,null),q=_.exports,b={components:{login:h,register:q}},k=b,y=Object(p["a"])(k,r,a,!1,null,null,null);t["default"]=y.exports}}]);